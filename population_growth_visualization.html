<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Florida Population Growth Hotspots</title>
  <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      background: white;
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      padding: 30px;
      max-width: 1000px;
      width: 100%;
    }

    .header {
      text-align: center;
      margin-bottom: 20px;
    }

    .header h1 {
      color: #2d3748;
      font-size: 1.6rem;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .header p {
      color: #718096;
      font-size: 0.9rem;
    }

    #chart {
      width: 100%;
      min-height: 600px;
    }

    @media (max-width: 768px) {
      .container {
        padding: 20px;
      }

      .header h1 {
        font-size: 1.3rem;
      }

      #chart {
        min-height: 500px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Florida Population Growth Hotspots</h1>
      <p>Comparison of projected total 65+ population growth (2025–2050)</p>
    </div>
    <div id="chart"></div>
  </div>

  <script>
    // Simplified aggregated data (example placeholder values)
    const data = [
      { Region: "FDOT D1", Growth_Pct: 46.8 },
      { Region: "FDOT D5", Growth_Pct: 44.36 },
      { Region: "FDOT D7", Growth_Pct: 42.1 },
      { Region: "Florida (Statewide)", Growth_Pct: 39.45 }
    ];

    // Accessible color palette
    const colors = {
      "FDOT D1": "#10B981", // Teal
      "FDOT D5": "#3B82F6", // Blue
      "FDOT D7": "#F59E0B", // Amber
      "Florida (Statewide)": "#EF4444" // Red
    };

    // Create a single bar trace
    const trace = {
      x: data.map(d => d.Region),
      y: data.map(d => d.Growth_Pct),
      type: 'bar',
      text: data.map(d => d.Growth_Pct.toFixed(2) + '%'),
      textposition: 'outside',
      marker: {
        color: data.map(d => colors[d.Region]),
        line: {
          color: 'rgba(255, 255, 255, 0.5)',
          width: 1
        }
      },
      hovertemplate:
        '<b>%{x}</b><br>' +
        'Projected Growth: %{y:.2f}%<br>' +
        '<extra></extra>'
    };

    // Layout configuration
    const layout = {
      title: {
        text: 'Projected 65+ Population Growth (2025–2050): FDOT Districts vs. Florida',
        font: {
          size: 20,
          color: '#2d3748',
          family: 'Arial, sans-serif',
          weight: 'bold'
        },
        x: 0.5,
        xanchor: 'center'
      },
      xaxis: {
        title: {
          text: 'Region',
          font: { size: 14, color: '#4a5568', family: 'Arial, sans-serif' }
        },
        tickfont: { size: 12, color: '#4a5568' }
      },
      yaxis: {
        title: {
          text: 'Total Growth (%)',
          font: { size: 14, color: '#4a5568', family: 'Arial, sans-serif' }
        },
        tickfont: { size: 12, color: '#4a5568' },
        gridcolor: '#e2e8f0'
      },
      plot_bgcolor: '#f7fafc',
      paper_bgcolor: 'white',
      hovermode: 'closest',
      margin: { l: 80, r: 40, t: 100, b: 100 }
    };

    // Plot configuration
    const config = {
      responsive: true,
      displayModeBar: true,
      displaylogo: false,
      toImageButtonOptions: {
        format: 'png',
        filename: 'florida_population_growth_hotspots',
        height: 800,
        width: 1200,
        scale: 2
      }
    };

    // Render chart
    Plotly.newPlot('chart', [trace], layout, config);

    window.addEventListener('resize', () => {
      Plotly.Plots.resize('chart');
    });
  </script>
</body>
</html>
